# Copyright 2025 Dell Inc. or its subsidiaries. All Rights Reserved.
#
#  Licensed under the Apache License, Version 2.0 (the "License");
#  you may not use this file except in compliance with the License.
#  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
#  Unless required by applicable law or agreed to in writing, software
#  distributed under the License is distributed on an "AS IS" BASIS,
#  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
#  See the License for the specific language governing permissions and
#  limitations under the License.
---

input_project_dir: "{{ hostvars['localhost']['input_project_dir'] }}"

# Usage: validations.yml
invalid_inventory_fail_msg: "Failed. Invalid inventory format. Provide inventory with slurm_control_node and slurm_node group."
cluster_os_type_success_msg: "cluster_os_type validated"
supported_os_check_dict:
  rhel: ["9.4"]
cluster_os_type_fail_msg: "Failed. Incorrect cluster_os_type selected. Supported OS and versions are {{ supported_os_check_dict | string }}"
# Usage: pre_requisites.yml
slurm_running_fail_msg: "Failed. slurm services are not running in the node {{ inventory_hostname }}.
Run omnia.yml with scheduler_type as slurm before executing this playbook."

# Usage: configure_slurm.yml
slurm_conf_path: /etc/slurm/slurm.conf
slurm_nfs_folder: /slurm

# Usage: fetch_software_config.yml
software_config_json_file: "{{ input_project_dir }}/software_config.json"
local_repo_config_file: "{{ input_project_dir }}/local_repo_config.yml"
amd_benchmarks_support_false_fail_msg: "amd_benchmarks is not present in software_config.json.
Please mention amd_benchmarks in software_config.json and execute local_repo.yml again."

# Usage: install_packages.yml
json_folder: "{{ input_project_dir }}/config/{{ cluster_os_type }}/{{ cluster_os_version }}"
amd_packages_fail_msg: "Failed to install amd benchmarks packages. Ensure local_repo.yml is run as packages were not able to install."

# Usage: fetch_storage_config.yml
storage_config_filename: "storage_config.yml"
storage_config_syntax_fail_msg: "Failed. Syntax errors present in storage_config.yml. Fix errors and re-run playbook again."
nfs_client_params_failure_msg: "nfs_client_params variable cannot be kept empty in input/storage_config.yml. It should have atleast one nfs share details."
nfs_client_params_slurm_share_fail_msg: "Exactly one entry should be present in nfs_client_params with slurm_share as true in input/storage_config.yml"
nfs_client_params_slurm_share_success_msg: "Entry found in nfs_client_params with slurm_share as true"

# Usage: fetch_omnia_inputs.yml
config_filename: "omnia_config.yml"
omnia_config_syntax_fail_msg: "Failed. Syntax errors present in omnia_config.yml. Fix errors and re-run playbook again."
slurm_installation_type_empty_failure_msg: "Slurm Installation type cannot be empty in omnia_config.yml"
slurm_installation_type_wrong_failure_msg: "Slurm Installation Type should be either nfs_share or configless in omnia_config.yml"
restart_services_success_msg: "restart_slurm_services successfully validated"
restart_services_failure_msg: "Failed. restart_slurm_services accepts true or false in omnia_config.yml"
